<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Employee Inbox</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.typekit.net/mtp4uya.css">
	<style>

		body {
			/* font-size: .875rem; */
			min-height: 8000px;
			background-color: #f3f3f3;
			font-family: "adelle-sans", sans-serif;
			font-size: 10pt; /* pt unit in use for Atlas, ... */
		}

		label.required::after,
		legend.required::after {
		  content:"*";
		  color:red;
		}

		.container-fluid {
			min-width: 900px;
			max-width: 1300px;
		}

		@media (min-width: 1024px) {
			.container-fluid {
				padding-left: 45px;
				padding-right: 45px;
			}
		}

		.global-nav {
			background-color: #8D3433;
			height: 55px;
			margin-bottom: 42px;
		}

		.panel {
			background-color: #fff;
			box-shadow: 0 2px 6px rgba(100, 100, 100, 0.3);
			padding: 25px;
			min-height: 350px;
		}

		.panel-header {
			height: 40px;
			background-color: #94acad;
			margin: -25px -25px 0 -25px;
		}

		.section-heading {
			border-bottom: solid 1px #ddd;
			margin-bottom: 25px;
			margin-left: -5px;
			margin-right: -10px;
			padding-bottom: 15px;
			padding-right: 10px;
		}

		.section-title {
			font-size: 26px;
			margin: 5px 0 0 5px;
		}



		.additional-entry {
			margin-left: -1rem;
			margin-right: -1rem;
		}

		.additional-entry-toggle {padding: 1rem;}

		.additional-entry-toggle.custom-control {padding-left: 2.25rem;}

		.additional-entry.is-active .additional-entry-toggle {
			border: 1px solid #CCC;
			border-top-left-radius: 8px;
			border-top-right-radius: 8px;
			border-bottom: 0;
		}

		.additional-entry .additional-entry-content {
			display: none;
		}

		.additional-entry.is-active .additional-entry-content {
			display: block;
			background-color: #EEE;
			padding: 15px;
			border-bottom-left-radius: 8px;
			border-bottom-right-radius: 8px;
		}



	</style>
</head>
<body>
	<!-- ************************************************************ -->
	<!-- ** This is a protype! Code is NOT intended for production ** -->
	<!-- ************************************************************ -->
	<nav class="global-nav"></nav>
	<div class="container-fluid">
		<div class="row">
			<aside class="col-sm-3 sidebar">
				<div class="panel">
					<div class="panel-header"></div>
				</div>
			</aside>
			<main class="col-sm-9">
				<div class="panel">
					<header class="section-heading">
						<h1 class="section-title">TCC Childcare Scholarship: New Enrollment 2018-2019</h1>
					</header>
					<form action="">
					<section id="you" class="mb-5">
						<h2 class="h4 mb-4">About Me</h2>
						<div>
							<fieldset>
								<legend class="h6">I am</legend>
								<div class="form-check">
										<input class="form-check-input" type="radio" name="maritalStatus" id="maritalStatus-1" value="married">
										<label class="form-check-label" for="maritalStatus-1">
											married
										</label>
								</div>
								<div class="form-check">
									<input class="form-check-input" type="radio" name="maritalStatus" id="maritalStatus-2" value="partnership">
									<label class="form-check-label" for="maritalStatus-2">in a domestic partnership
									</label>
								</div>
								<div class="form-check">
									<input class="form-check-input" type="radio" name="maritalStatus" id="maritalStatus-3" value="divorced">
									<label class="form-check-label" for="maritalStatus-3">
										divorced
									</label>
								</div>
								<div class="form-check">
									<input class="form-check-input" type="radio" name="maritalStatus" id="maritalStatus-4" value="single">
									<label class="form-check-label" for="maritalStatus-4">
										single or widowed
									</label>
								</div>
							</fieldset>
						</div>
					</section>
					<section id="spouse" class="mb-5">
						<h2 class="h4 mb-4">About My Spouse/Partner</h2>
						<div>
							<fieldset class="mb-1">
								<div class="form-row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="spouseFirstName" class="required">First Name</label>
			  							<input type="text" class="form-control" id="spouseFirstName" required>
										</div>
									</div>
									<div class="col-md-2">
										<div class="form-group">
											<label for="spouseMiddleInitial">Middle Initial</label>
			  							<input type="text" class="form-control" id="spouseMiddleInitial">
										</div>
									</div>
									<div class="col-md-6">
										<div class="form-group">
											<label for="spouseLastName" class="required">Last Name</label>
			  							<input type="text" class="form-control" id="spouseMiddleInitial" required>
										</div>
									</div>
								</div>
							</fieldset>
							<div id="spouseMITInfo" class="additional-entry mb-4">
								<div class="additional-entry-toggle custom-control custom-checkbox">
									<input type="checkbox"
									       class="custom-control-input"
												 id="spouseMITAffiliate">
								  <label class="custom-control-label" for="spouseMITAffiliate">My spouse/partner is currently affiliated with MIT</label>
								</div>
								<div class="additional-entry-content mb-3">
									<div class="form-group mb-4">
										<label for="spouseMITId" class="required">Spouse/Partner MIT ID Number</label>
		  							<input type="number" class="form-control" id="spouseMITId" required>
									</div>
									<fieldset class="mb-4">
										<legend class="h6 required">My partner/spouse is affiliated with MIT as</legend>
										<div class="form-check">
										  <input class="form-check-input" type="radio" name="spouseAffiliation" id="spouseAffiliation-1" value="faculty" checked>
										  <label class="form-check-label" for="spouseAffiliation-1">
										    Faculty
										  </label>
										</div>
										<div class="form-check">
										  <input class="form-check-input" type="radio" name="spouseAffiliation" id="spouseAffiliation-2" value="staff">
										  <label class="form-check-label" for="spouseAffiliation-2">
										    Staff
										  </label>
										</div>
										<div class="form-check">
										  <input class="form-check-input" type="radio" name="spouseAffiliation" id="spouseAffiliation-3" value="student">
										  <label class="form-check-label" for="spouseAffiliation-3">
										    Student
										  </label>
										</div>
										<div class="form-check">
										  <input class="form-check-input" type="radio" name="spouseAffiliation" id="spouseAffiliation-4" value="postdocAssociate">
										  <label class="form-check-label" for="spouseAffiliation-4">
										    a Postdoctoral Associate
										  </label>
										</div>
										<div class="form-check">
										  <input class="form-check-input" type="radio" name="spouseAffiliation" id="spouseAffiliation-5" value="postdocFellow">
										  <label class="form-check-label" for="spouseAffiliation-5">
										    a Postdoctoral Fellow
										  </label>
										</div>
									</fieldset>
								</div>
							</div>

							<fieldset class="mb-4 additional-entry">
								<div class="additional-entry-toggle">
									<legend class="h6 required">My partner/spouse is</legend>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="spouseOccupation" id="spouseOccupation-1" value="student">
										<label class="form-check-label" for="spouseOccupation-1">
											a full-time student
										</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="spouseOccupation" id="spouseOccupation-2" value="employed">
										<label class="form-check-label" for="spouseOccupation-2">
											employed for a minimum of 20 hours/week
										</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="spouseOccupation" id="spouseOccupation-3" value="disabled">
										<label class="form-check-label" for="spouseOccupation-3">
											disabled
										</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="spouseOccupation" id="spouseOccupation-4" value="withhold">
										<label class="form-check-label" for="spouseOccupation-4">
											not financially contributing
										</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="spouseOccupation" id="spouseOccupation-5" value="other">
										<label class="form-check-label" for="spouseOccupation-5">
											other
										</label>
									</div>
								</div>
								<div class="additional-entry-content">

									<div id="spouseOccupationStudentEntry">

										<div class="form-group">
									    <label class="required" for="spouseSchoolName">School Name</label>
									    <input type="text" class="form-control" id="spouseSchoolName" required>
									  </div>

										<div class="form-group">
									    <label class="required" for="spouseAdmissionDate">Admission Date</label>
									    <input type="date" class="form-control" id="spouseAdmissionDate" required>
									  </div>

										<div class="form-group mb-4">
									    <label class="required" for="spouseGraduationDate">Expected Graduation Date</label>
									    <input type="date" class="form-control" id="spouseGraduationDate" required>
									  </div>

										<fieldset>
											<legend class="h6 required">Type of Funding</legend>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spouseFunding" id="spouseFunding-1" value="TA">
												<label class="form-check-label" for="spouseFunding-1">
													Teaching Assistant
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spouseFunding" id="spouseFunding-2" value="RA">
												<label class="form-check-label" for="spouseFunding-2">
													Research Assistant
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spouseFunding" id="spouseFunding-3" value="stipend">
												<label class="form-check-label" for="spouseFunding-3">
													Stipend
												</label>
											</div>
										</fieldset>

									</div>

									<div id="spouseOccupationEmployedEntry">
										<div class="form-group">
									    <label class="required" for="spouseEmployerName">Employer Name</label>
									    <input type="text" class="form-control" id="spouseEmployerName" required>
									  </div>

										<div class="form-group">
									    <label class="required" for="spouseHireDate">Hire Date</label>
									    <input type="date" class="form-control" id="spouseHireDate" required>
									  </div>

										<div class="form-group mb-4">
									    <label for="spouseAppointmentEndDate">Expected Appointment End Date</label>
									    <input type="date" class="form-control" id="spouseAppointmentEndDate">
									  </div>

										<fieldset>
											<legend class="h6 required">My spouse/partner is paid</legend>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-1" value="monthly">
												<label class="form-check-label" for="spousePaymentSchedule-1">
													monthly
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-2" value="semimonthly" checked>
												<label class="form-check-label" for="spousePaymentSchedule-2">
													semi-monthly
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-3" value="biweekly" checked>
												<label class="form-check-label" for="spousePaymentSchedule-3">
													bi-weekly
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-4" value="weekly" checked>
												<label class="form-check-label" for="spousePaymentSchedule-4">
													weekly
												</label>
											</div>


											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-5" value="perdiem" checked>
												<label class="form-check-label" for="spousePaymentSchedule-5">
													per diem
												</label>
											</div>

											<div class="form-check">
												<input class="form-check-input" type="radio" name="spousePaymentSchedule" id="spousePaymentSchedule-6" value="irregular" checked>
												<label class="form-check-label" for="spousePaymentSchedule-6">
													irregularly
												</label>
											</div>

										</fieldset>
									</div>

									<div id="spouseOccupationDisabledEntry">
										Attach certification provided by a doctor or a clinic.
										<div class="custom-file">
										  <input type="file" class="custom-file-input" id="spouseDisabledCertificate" aria-describedby="spouseOccupationDisabledHelp" required>
										  <label class="custom-file-label" for="spouseDisabledCertificate">Choose file</label>
											<small id="spouseOccupationDisabledHelp" class="form-text text-muted">Accepted formats are PDF, JPEG, PNG, GIF. Filesize should be smaller than 2MB.</small>
										</div>
									</div>

									<div id="spouseOccupationWithholdEntry">
										<div class="form-group">
											<label for="spouseOccupationOther">Attach proof that your spouse/partner is not financially contributing to the support of your child.</label>
											<div class="custom-file">
											  <input type="file" class="custom-file-input" id="spouseWithholdCertificate" aria-describedby="spouseOccupationWithholdHelp" required>
											  <label class="custom-file-label" for="spouseWitholdCertificate">Choose file</label>
												<small id="spouseOccupationWithholdHelp" class="form-text text-muted">Accepted formats are PDF, JPEG, PNG, GIF. Filesize should be smaller than 2MB.</small>
											</div>
									  </div>
									</div>


									<div id="spouseOccupationOtherEntry">
										<div class="form-group">
											<label for="spouseOccupationOther">Please explain your spouse's/partner's situation</label>
											<textarea class="form-control" id="spouseOccupationOther" rows="3" aria-describedby="spouseOccupationOtherHelp" placeholder="E.g. Spouse/partner is currently seeking employment"></textarea>
									    <small id="spouseOccupationOtherHelp" class="form-text text-muted">Please be aware that this may affect your eligibily for this benefit.</small>
									  </div>
									</div>

								</div>
							</fieldset>

						</div>
					</section>
					<section id="children" class="mb-5">
						<h2 class="h4 mb-4">About My Children</h2>
						<div>

							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="childEnrollmentStart" class="required">TCC Enrollment start date</label>
										<input type="date" class="form-control" id="childEnrollmentStart" aria-describedby="spouseOccupationOtherHelp" required>
										<small id="childEnrollmentStartHelp" class="form-text text-muted" >Validate to not backdate > two months</small>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="spouseLastName" class="required">TCC Enrollment end date</label>
										<input type="date" class="form-control" id="childEnrollmentEnd">
									</div>
								</div>
							</div>

							<fieldset class="required">
								<div class="form-group">
									<label class="d-inline-block" for="childrenCount">
										<select class="form-control form-control-sm d-inline-block w-auto" id="childrenCount">
											<option value="1" selected="selected">One</option>
											<option value="2">Two</option>
											<option value="3">Three</option>
											<option value="4">Four</option>
										</select> of my children is/are enrolled at a <abbr title="Technology Childcare Center">TCC</abbr>.
									</label>
								</div>
							</fieldset>

							<table class="table table-sm table-borderless d-none" id="childrenList">
									<thead class="thead-light">
										<tr>
											<th scope="col">First Name</th>
											<th scope="col">Last Name</th>
											<th scope="col">Birth Date</th>
											<th scope="col">TCC Center</th>
											<th scope="col">Classroom</th>
											<th scope="col">Days per Week</th>
											<th scope="col" class="westgate-only">Hours</th>
											<th scope="col"><span class="sr-only">Actions</span></th>
											<!--<th scope="col">Enrollment Start</th>
											<th scope="col">Enrollment End</th>-->
										</tr>
									</thead>
									<tbody></tbody>
								</table>
						</div>
					</section>
					<section id="financial" class="mb-5">
						<h2 class="h4 mb-5">Financial Documentation</h2>
						<div class="row">
							<div class="col">
								<h3 class="h6">&nbsp;</h3>
							</div>
							<div class="col">
								<h3 class="h6">My Financial Documentation</h3>
							</div>
							<div class="col">
								<h3 class="h6">My Spouse's/Partner's Financial Documentation</h3>
							</div>
						</div>
						<!-- @TODO fix for attributes and id attributes for file inputs-->
						<div class="row border-top mt-1 pt-5">
							<div class="col">
									<p>A <b>completed</b> and <b>signed</b> copy of all pages of last year's <b>Federal Income Tax Form 1040 or 1040A</b> (if filed)</p>
							</div>
							<div class="col">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="tax1040">
									<label class="custom-file-label" for="tax1040">Choose file</label>
								</div>
							</div>
							<div class="col">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="spouseTax1040">
									<label class="custom-file-label" for="tax1040">Choose file</label>
								</div>
							</div>
						</div>

						<div class="row border-top mt-4 pt-5">
							<div class="col">
									<p><b>Copies of two current pay stubs or similar information.</b> If your spouse/partner is self-employed, attach a copy of IRS schedule C and any other proof of self-employment available.</p>
									<p class="text-center text-muted pt-2 pb-2">OR</p>
									<p>If your spouse's/partner's <b>financial documentation originates in a country other than the United States</b>, please supply comparable documentation to demonstrate income.</p>
							</div>
							<div class="col">
								<p class="text-muted text-center">N/A</p>
							</div>
							<div class="col">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="spouseTax1040">
									<label class="custom-file-label" for="tax1040">Choose file</label>
								</div>
							</div>
						</div>
						<!--@TODO only show when student was selected under spouse-->
						<div class="row border-top mt-4 pt-5">
							<div class="col">
									<p>Studying partner/spouse must include <b>proof of enrollment status</b> and a <b>copy of your appointment letter</b> (if applicable) documenting all sources of funding.</p>
							</div>
							<div class="col">
								<p class="text-muted text-center">N/A</p>
							</div>
							<div class="col">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="spouseTax1040">
									<label class="custom-file-label" for="tax1040">Choose file</label>
								</div>
							</div>
						</div>

						<div class="row border-top mt-4 pt-5">
							<div class="col">
									<!-- @TODO put href in link, consider reversing sections, it's weird that it asks for documentation about something that hasn't yet been specified -->
									<p><b>Additional financial information</b>, if necessary, to explain projected income as described in your <a href="#">estimate of gross, taxable income for the scholarship year</a>.</p>
							</div>
							<div class="col">
								<p class="text-muted text-center">N/A</p>
							</div>
							<div class="col">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="spouseTax1040">
									<label class="custom-file-label" for="tax1040">Choose file</label>
								</div>
							</div>
						</div>


					</section>
					<section id="estimate" class="mb-5">
						Please estimate your gross income... to be continued...
					</section>
					<section id="statement" class="mb-5">

					</section>
					<button type="submit" class="btn btn-primary">Send Enrollment Form</button>
				</form>
				</div>
			</main>
		</div>
	</div>

	<footer>

	</footer>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<!--<script src="node_modules/easy-toggle-state/dist/easy-toggle-state.js"></script>-->
	<script>

	//Toggle additional content on checkbox change
	$('.additional-entry-toggle input').on('change', function(){
		$(this).closest('.additional-entry').toggleClass('is-active');
	});

	// don't ask for information about spouse if non-existent
	$('input[name=maritalStatus]').on('change',function(){
		let $this = $(this);
		if ($this.val() !== 'single') {
			$('#spouse').show();
		} else {
			$('#spouse').hide();
		}
	});

	// deal with spouse occupation selection
	$('input[name=spouseOccupation]').on('change',function(){
		let $this = $(this);
		let val = $this.val();

		// create ID selector for which container to show
		let valueTarget = '#spouseOccupation' + val.charAt(0).toUpperCase() + val.substr(1) + 'Entry';

		// make sure we're showing the .additional-entry UI
		$this.closest('.additional-entry').addClass('is-active');

		// make sure we hide the container that was showing
		$(valueTarget).siblings().not('.d-none').addClass('d-none');

		// show the container for the new radio button selection
		$(valueTarget).removeClass('d-none');
	});



	// Render inputs for the selected number of children
	let $childrenTable = $('#childrenList');
	let $childrenTbody = $childrenTable.find('tbody')
	$('#childrenCount').on('change', function(){
		let $this = $(this);
		let childrenCount = $this.val();
    // @TODO don't empty when inputs contain values, validate instead
		$childrenTbody.empty();
		$childrenTable.removeClass('d-none');
		let childRow = `
			<tr>
			<td scope="row">
				<div>
					<!-- <label for="childFirstName" class="required">First Name</label> -->
					<input type="text" class="form-control form-control-sm" id="childFirstName" required="">
				</div>
			</td>
			<td>
				<div>
					<!-- <label for="childFirstName" class="required">First Name</label> -->
					<input type="text" class="form-control form-control-sm" id="childLastName" required="">
				</div>
			</td>
			<td>
				<div>
					<!-- <label for="childFirstName" class="required">First Name</label> -->
					<input type="date" class="form-control form-control-sm" id="childBirthDate" required="">
				</div>
			</td>
			<td>
				<div>
					<label class="d-none" for="childTCC"></label>
						<select class="form-control form-control-sm" id="childTCC">
							<option value="Eastgate">Eastgate</option>
							<option value="Koch">Koch</option>
							<option value="Linc">Linc</option>
							<option value="Stata">Stata</option>
							<option value="Westgate">Westgate</option>
						</select>
					</div>
			</td>
			<td>
			<div>
				<label class="d-none" for="childClassroom"></label>
					<select class="form-control form-control-sm" id="childClassroom">
						<option value="infant">Infant</option>
						<option value="toddler">Toddler</option>
						<option value="preschool">Preschool</option>
					</select>
				</div>
			</td>
			<td>
				<div>
					<label class="d-none" for="childDays"></label>
						<select class="form-control form-control-sm" id="childDays">
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="5">5</option>
						</select>
					</div>
			</td>
			<td class="westgate-only">
				<div>
					<label class="d-none" for="childHours"></label>
					<select class="form-control form-control-sm" id="childHours">
						<option value="fulltime">full-time</option>
						<option value="halftime">half-time</option>
					</select>
				</div>
			</td>
			<td>
				<button type="button" class="btn btn-light btn-sm js-delete-row">â¨‰</button>
			</td>
			<!--<td>
				<input type="date" class="form-control form-control-sm" id="childEnrollmentStart" required="">
			</td>
			<td>
				<input type="date" class="form-control form-control-sm" id="childEnrollmentEnd" required="">
			</td>-->
			</tr>
		`;
		// Populate the table with the row from the template
		for(let i = 0; i < childrenCount; i++) {
			$childrenTbody.append(childRow);
		}
		$('.js-delete-row').on('click', function(){
			$(this).closest('tr').remove();
			$('#childrenCount option')
				.filter(':selected')
				.removeAttr('selected')
				.prev()
				.attr('selected','selected')
				.trigger('click');
		});
	});

  // Needs to show as soon as there is one Westgate
	// $('#childTCC').on('change',function(){
	// 	if ( $(this.val()).toLowerCase() === 'westgate' ) {
	// 		$('.westgate-only')
	// 	}
	// });

	</script>
</body>
</html>
